<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hochzeitsgeschenke</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
        .container {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
        }
        .gift {
            border: 1px solid #ccc;
            padding: 15px;
            margin: 10px 0;
            background-color: white;
        }
        .gift img {
            width: 100%;
            max-width: 400px;
            height: auto;
            margin-bottom: 15px;
        }
        .gift h3 {
            font-size: 1.5em;
        }
        .gift p {
            font-size: 1em;
        }
        input[type="number"] {
            padding: 8px;
            font-size: 1em;
            width: 100px;
        }
        button {
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .confirmation {
            margin-top: 10px;
            font-size: 1.2em;
            color: #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Hochzeitsgeschenke</h1>
        
        <div class="gift">
            <h3>Postautofahrt auf den Etzel (voll bei 600.-)</h3>
            <img src="https://www.tramoldtimer-basel.ch/images/gut/Wagen4_wohlgemuth_ag.jpg" alt="Postauto Etzel">
            <p>Betrag spenden:</p>
            <input type="number" id="amount1" min="1" placeholder="Betrag">
            <button onclick="donate('Postautofahrt auf den Etzel', document.getElementById('amount1').value)">Betrag spenden</button>
            <p id="status1"></p>
        </div>

        <div class="gift">
            <h3>Windeln für das erste Jahr (voll bei 1000.-)</h3>
            <img src="https://image.eltern.de/12803790/t/yc/v3/w1440/r1.5/-/stiftung-warentest-testet-windeln.jpg" alt="Windeln">
            <p>Betrag spenden:</p>
            <input type="number" id="amount2" min="1" placeholder="Betrag">
            <button onclick="donate('Windeln für das erste Jahr', document.getElementById('amount2').value)">Betrag spenden</button>
            <p id="status2"></p>
        </div>

        <div class="gift">
            <h3>Ferienwohnung für den ersten Familienurlaub (voll bei 1500.-)</h3>
            <img src="https://www.bodenseeferien.de/storage/image/3/6/63_ferienwohnungen_bofe-header_1BVLIY_f83KGk.jpg" alt="Ferienwohnung">
            <p>Betrag spenden:</p>
            <input type="number" id="amount3" min="1" placeholder="Betrag">
            <button onclick="donate('Ferienwohnung für den ersten Familienurlaub', document.getElementById('amount3').value)">Betrag spenden</button>
            <p id="status3"></p>
        </div>

        <div class="gift">
            <h3>Porsche GT3 RS (voll bei 250'000.-)</h3>
            <img src="https://rsrbooking.com/storage/cars/kQ5QMHvm1s6OKHKy7c7vyTTS4QkenqNmAQHvmXB3.jpg" alt="Porsche GT3 RS">
            <p>Betrag spenden:</p>
            <input type="number" id="amount4" min="1" placeholder="Betrag">
            <button onclick="donate('Porsche GT3 RS', document.getElementById('amount4').value)">Betrag spenden</button>
            <p id="status4"></p>
        </div>

        <div class="gift">
            <h3>Ein Beitrag zum Traum vom Eigenheim (voll bei 2'500'000.-)</h3>
            <img src="https://i.ds.at/GZb8bQ/rs:fill:750:0/plain/2017/03/28/hausamland.jpg" alt="Eigenheim">
            <p>Betrag spenden:</p>
            <input type="number" id="amount5" min="1" placeholder="Betrag">
            <button onclick="donate('Ein Beitrag zum Traum vom Eigenheim', document.getElementById('amount5').value)">Betrag spenden</button>
            <p id="status5"></p>
        </div>

    </div>

    <script>
        const apiURL = 'https://script.google.com/macros/s/AKfycbwGDEh8Zov9z5SA_aG-GbLW2UE34CUv0DBdZXNLYr9w2dkr-CuleXgh5gB_gOhGaWBTbg/exec';

        function donate(gift, amount) {
            if (amount <= 0 || isNaN(amount)) {
                alert('Bitte einen gültigen Betrag eingeben.');
                return;
            }

            const statusId = 'status' + gift.replace(/ /g, '').replace(/[^a-zA-Z0-9]/g, '').toLowerCase();
            
            // Zeigt den Status während der Anfrage
            document.getElementById(statusId).textContent = "Verarbeite...";
            
            fetch(apiURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    gift: gift,
                    amount: parseFloat(amount)
                }),
            })
            .then(response => response.json())
            .then(data => {
                // Erfolgreich gespendet, zeige Bestätigung
                document.getElementById(statusId).innerHTML = "Vielen Dank für deinen großzügigen Beitrag! Gerne darfst du den geschenkten Betrag per Twint an Laura Heimgartner (079 843 34 90) zustellen.";
            })
            .catch(error => {
                document.getElementById(statusId).textContent = "Fehler beim Senden des Beitrags.";
                console.error('Fehler:', error);
            });
        }
    </script>
</body>
</html>
